{% extends "base.html" %}
{% block content %}
{% if user.profile.is_activated %}
<div id="form">
	<h3>Buy game</h3>
	<p>Confirm payment<p>
		<ul>
			<li><b>Game:</b> {{game.name}}</li>
			<li><b>Price:</b> {{amount}}₹</li>
		</ul>
	<div class="container mx-auto text-center mt-4" v-if="name && amount">

		<form action="http://{{current_host}}/game/{{game_id}}/success/" method="post">
			{% csrf_token %}
			<script
				src="https://checkout.razorpay.com/v1/checkout.js"
				data-key="rzp_test_ifqXZb84qSL1CP" // Enter the Test API Key ID generated from Dashboard → Settings → API Keys
				data-amount="{{amount}}"
				data-currency="EUR"//You can accept international payments by changing the currency code. Contact our Support Team to enable International for your account
				data-order_id="{{payment}}"//Replace with the order_id generated by you in the backend.
				data-buttontext="Pay with Razorpay"
				data-name="payment processing"
				data-description="Thanks for doing payment."
				data-image="https://example.com/your_logo.jpg"
				data-prefill.name="shwetha"
				data-prefill.email="shwetha111@gmail.com"
				data-prefill.contact="333333333"
				data-theme.color="#F37254"
			></script>
			<input type="hidden" custom="Hidden Element" name="hidden">
			</form>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<script>
    var app = new Vue({
      delimiters: ['[[', ']]'],
      el: '#app',
      data: {
          message: 'Hello Vue!',
          name : null,
          amount : null
          
      },
      methods: {
          greet: function(name) {
              console.log('Hello from ' + name + '!')
          },
          get : function(){
            console.log(this.name , this.amount)
          }
      },
      watch : {
        amount(){
            console.log(this.amount)
        }
      }
    });
  </script>
</div>
{% else %}
<h3>Please activate your email or finish your profile to continue.</h3>
{% endif %}
{% endblock %}
